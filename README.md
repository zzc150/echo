# echo
#使用指南

##项目概述
这是一个基于大语言模型的虚拟智能体交互系统，能够创建、管理和与具有完整生命周期的AI角色进行互动。系统包含智能体构建、事件生成、日常互动和状态评估等功能模块。

##快速开始
安装依赖
pip install -r requirements.txt

配置API密钥
在api_handler.py中设置ChatFire API密钥：API_KEY = "your_api_key_here"

##主要功能

1. 初始化智能体  python main.py --init
   系统会提示输入角色设定信息
   自动生成智能体基础信息、生平事件和目标
   数据保存在agents/[角色名]目录下

2. 日常互动模式  python main.py --daily
   进入基于日程表的日常对话模式
   智能体会根据当前时间和活动状态做出响应
   输入exit或quit退出

3. 事件驱动模式  python main.py --event
   进入基于事件链的剧情互动模式
   按照预设的事件流程进行互动
   每个事件完成后会自动评估状态变化

   

##核心模块说明
智能体构建器 (AgentBuilder)
根据用户输入生成完整的角色设定
包含：
基础信息（世界观、性格、背景等）
生平事件记录
长期/短期目标
MBTI性格分析

事件生成器 (EventTreeGenerator)
为智能体生成完整生命周期的事件链
包含：
多个生命阶段（探索期、发展期、成熟期等）
主线/支线/日常事件
事件依赖关系和触发条件

记忆存储 (MemoryStore)
MySQL数据库管理：
database.py中常用存储和检索命令：构建角色模版，角色信息，对话历史等

高级功能
自定义日程表
修改schedule_generator.py中的generate_daily_schedule函数，调整智能体的日常活动安排。

自定义事件模板
数据库模版表中添加JSON模板文件，可以扩展系统的事件类型和互动模式。

状态评估定制
修改evaluate_state_change函数，自定义状态评估逻辑和影响参数。

##注意事项
确保网络连接正常，系统需要调用API服务
首次使用建议从简单角色开始测试
互动过程中生成的数据会自动保存到数据库
系统默认使用GPT-4模型，可在api_handler.py中修改
示例角色
{
  "世界观": "现代都市",
  "姓名": "测试角色",
  "年龄": "25",
  "职业": "软件工程师",
  "爱好": ["编程", "阅读"]
}

##问题排查
如遇API错误，检查密钥和网络连接

